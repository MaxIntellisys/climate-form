{"version":3,"sources":["components/ThankYou.js","components/FormHeader.js","components/QuestionsHeader.js","components/MultiSelectQuestion.js","firestore.js","components/Form.js","components/UrlDisplayer.js","components/FileUploader.js","components/App.js","index.js"],"names":["ThankYou","className","role","aria-label","FormHeader","QuestionsHeader","styles","errors","color","fontSize","MultipleSelection","source","register","question","name","type","value","ref","required","style","message","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","saveFormToDb","form","a","collection","add","doc","id","console","error","getFormFromDb","get","data","questions","Form","match","history","params","useForm","handleSubmit","useState","setQuestions","getQuestions","useEffect","onSubmit","log","push","map","index","key","UrlDisplayer","formURL","rootPath","window","location","to","FileUploader","setFormURL","handleChange","e","preventDefault","file","target","files","alert","text","arr","replace","split","filter","word","Boolean","obj","trim","accept","onChange","App","from","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e121c352.chunk.js","sourcesContent":["import React from \"react\";\n\n// const styles = {\n//   textAlign: \"center\",\n//   marginTop: \"250px\",\n// };\n\nexport default function ThankYou() {\n  return (\n    <div className=\"text-center my-64\">\n      <h1 className=\"text-4xl\">\n        Thank yooou!\n        <span role=\"img\" aria-label=\"party\">\n          ü•≥\n        </span>\n        <span role=\"img\" aria-label=\"confetti\">\n          üéâ\n        </span>\n      </h1>\n      <h3 className=\"text-xl\">\n        Apreciamos mucho que tomaste unos mins de tu tiempo!\n      </h3>\n    </div>\n  );\n}\n","import React from \"react\";\n\nexport default function FormHeader() {\n  return (\n    <div className=\"text-center\">\n      <h2 className=\"text-4xl mb-3\">Organizational Climate Form</h2>\n      <h4 className=\"text-xl mb-6\">\n        Ayudanos a conocer tu opinion sobre el clima organizacional en\n        Intellisys{\" \"}\n        <span role=\"img\" aria-label=\"wink\">\n          üòâ\n        </span>\n      </h4>\n    </div>\n  );\n}\n","import React from \"react\";\n\nexport default function QuestionsHeader() {\n  return (\n    <div className=\"flex justify-between bg-gray-200 w-10/12 md:w-6/12\">\n      <div className=\"w-6/12 bg-white\"></div>\n      <div><span role=\"img\" aria-label=\"excellent\">üòç</span></div>\n      <div><span role=\"img\" aria-label=\"good\">üòÉ</span></div>\n      <div><span role=\"img\" aria-label=\"ok\">üëåüèΩ</span></div>\n      <div><span role=\"img\" aria-label=\"bad\">üò§</span> </div>\n      <div><span role=\"img\" aria-label=\"terrible\">üí©</span></div>\n    </div>\n  );\n}\n\n\n\n\n\n\n\n","import React from \"react\";\n\nconst styles= {\n  errors: { color: \"red\", fontSize: \"12px\" },\n}\n\nexport default function MultipleSelection({ source, register, errors }) {\n  const { question, name } = source;\n \n  return (\n    <>\n      <div className=\"flex justify-between bg-gray-200 w-10/12 md:w-6/12 mb-3 p-3\" >\n        <label className=\"w-6/12\">{question}</label>\n        <input className=\"cursor-pointer\" type=\"radio\" name={name} value=\"1\" ref={register({ required: \"required üôèüèΩ\" })}/>\n        <input className=\"cursor-pointer\" type=\"radio\" name={name} value=\"2\" ref={register({ required: \"required üôèüèΩ\" })}/>\n        <input className=\"cursor-pointer\" type=\"radio\" name={name} value=\"3\" ref={register({ required: \"required üôèüèΩ\" })}/>\n        <input className=\"cursor-pointer\" type=\"radio\" name={name} value=\"4\" ref={register({ required: \"required üôèüèΩ\" })}/>\n        <input className=\"cursor-pointer\" type=\"radio\" name={name} value=\"5\" ref={register({ required: \"required üôèüèΩ\" })}/>\n      </div>\n      {errors[name]? <span style={styles.errors}>{errors[name].message}</span>: null}\n    </>\n  );\n}","import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\n\nfirebase.initializeApp({\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_APP_ID,\n  measurementId: process.env.REACT_APP_MEASUREMENT_id,\n});\n\nconst db = firebase.firestore();\n\nexport async function saveFormToDb(form) {\n  try {\n    const doc = await db.collection(\"forms\").add(form);\n    return doc.id;\n  } catch (error) {\n    console.error(error.message);\n  }\n}\n\nexport async function getFormFromDb(id) {\n  try {\n    const doc = await db.collection(\"forms\").doc(id).get();\n    return doc.data().questions;\n  } catch (error) {\n    console.error(error.message);\n  }\n}\n","import React, { useState, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport FormHeader from \"./FormHeader\";\nimport QuestionsHeader from \"./QuestionsHeader\";\nimport Question from \"./MultiSelectQuestion\";\nimport { getFormFromDb } from \"../firestore\";\n\nexport default function Form({ match, history }) {\n  \n  const {\n    params: { id },\n  } = match;\n  const { register, handleSubmit, errors } = useForm();\n  const [questions, setQuestions] = useState([]);\n\n  const onSubmit = (data) => {\n    console.log(data);\n    history.push(\"/thanks\")\n  };\n\n  const getQuestions = async () => {\n    const questions = await getFormFromDb(id);\n    setQuestions(questions);\n  };\n\n  useEffect(() => {\n    getQuestions();\n  }, [id]);\n\n  return (\n    <form\n      onSubmit={handleSubmit(onSubmit)}\n      className=\"flex flex-col justify-between items-center py-8\"\n    >\n      <FormHeader />\n\n      <QuestionsHeader />\n\n      {questions.map((source, index) => {\n        return (\n          <Question\n            source={source}\n            key={index}\n            register={register}\n            errors={errors}\n          />\n        );\n      })}\n\n      <button className=\"bg-blue-400 hover:bg-blue-900 text-white font-bold py-2 px-5 rounded-full\">\n        Send your answers\n      </button>\n    </form>\n  );\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default function UrlDisplayer({ formURL }) {\n  const rootPath = `${window.location}`;\n  return (\n    <div className=\"text-center my-32 p-4 border-solid border-4 border-gray-600 rounded-lg md:w-6/12 m-auto\">\n      <p className=\"text-xl\">\n        Newly created from is available on this shareable link:\n      </p>\n      <p>\n        <Link to={`/climate-form${formURL}`}>{`${rootPath}${formURL}`}</Link>\n      </p>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { saveFormToDb } from \"../firestore\";\nimport UrlDisplayer from \"./UrlDisplayer\";\n\nexport default function FileUploader({ setQuestions }) {\n  const [formURL, setFormURL] = useState(false);\n\n  const handleChange = async (e) => {\n    e.preventDefault();\n    let file = e.target.files[0];\n\n    try {\n      const isValid =\n        file.type === \"text/csv\" || file.type === \"application/vnd.ms-excel\";\n      if (!isValid) return alert(\"File type must be csv\");\n\n      const text = await file.text();\n\n      let arr = text.replace(/\\n/g, \",\").split(\",\");\n      arr = arr.filter((word) => Boolean(word));\n\n      let questions = [];\n      for (let index in arr) {\n        let obj = {};\n        if (index > 1 && index % 2 === 0) {\n          obj[arr[0].trim()] = arr[+index];\n          obj[arr[1].trim()] = arr[+index + 1];\n          questions.push(obj);\n        }\n      }\n\n      const id = await saveFormToDb({ questions });\n      setFormURL(`/form/${id}`);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return (\n    <div className=\"text-center p-4  m-auto\">\n      <h1 className=\"text-4xl mt-4\">Metrics Circle Form Builder</h1>\n      <div className=\"text-center my-32 p-4 border-solid border-4 border-gray-600 rounded-lg md:w-6/12 m-auto\">\n        <p className=\"text-2xl\">\n          Please upload a csv file to generate your form\n        </p>\n        <input\n          type=\"file\"\n          id=\"fileUpload\"\n          accept=\".csv, .ms-excel\"\n          onChange={handleChange}\n        />\n      </div>\n\n      {formURL ? <UrlDisplayer formURL={formURL} /> : null}\n    </div>\n  );\n}\n","import React from \"react\";\nimport { BrowserRouter as Router, Route, Redirect } from \"react-router-dom\";\nimport ThankYou from \"./ThankYou\";\nimport Form from \"./Form\";\nimport FileUploader from \"./FileUploader\";\n\nfunction App() {\n \n  return (\n    <Router>\n      <Redirect from='/' to='/climate-form' />\n      <Route exact path=\"/climate-form\" component={FileUploader} />\n      <Route exact path=\"/climate-form/form/:id\" component={Form} />\n      <Route exact path=\"/climate-form/thanks\" component={ThankYou} />\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}