(this["webpackJsonpmetric-form"]=this["webpackJsonpmetric-form"]||[]).push([[0],{29:function(e,t,a){e.exports=a(43)},43:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(26),l=a.n(c),o=a(14),s=a(2);function i(){return n.a.createElement("div",{className:"text-center my-64"},n.a.createElement("h1",{className:"text-4xl"},"Thank yooou!",n.a.createElement("span",{role:"img","aria-label":"party"},"\ud83e\udd73"),n.a.createElement("span",{role:"img","aria-label":"confetti"},"\ud83c\udf89")),n.a.createElement("h3",{className:"text-xl"},"Apreciamos mucho que tomaste unos mins de tu tiempo!"))}var m=a(1),u=a.n(m),p=a(4),f=a(5),d=a(28);function b(){return n.a.createElement("div",{className:"text-center"},n.a.createElement("h2",{className:"text-4xl mb-3"},"Organizational Climate Form"),n.a.createElement("h4",{className:"text-xl mb-6"},"Ayudanos a conocer tu opinion sobre el clima organizacional en Intellisys"," ",n.a.createElement("span",{role:"img","aria-label":"wink"},"\ud83d\ude09")))}function E(){return n.a.createElement("div",{className:"flex justify-between bg-gray-200 w-10/12 md:w-6/12"},n.a.createElement("div",{className:"w-6/12 bg-white"}),n.a.createElement("div",null,n.a.createElement("span",{role:"img","aria-label":"excellent"},"\ud83d\ude0d")),n.a.createElement("div",null,n.a.createElement("span",{role:"img","aria-label":"good"},"\ud83d\ude03")),n.a.createElement("div",null,n.a.createElement("span",{role:"img","aria-label":"ok"},"\ud83d\udc4c\ud83c\udffd")),n.a.createElement("div",null,n.a.createElement("span",{role:"img","aria-label":"bad"},"\ud83d\ude24")," "),n.a.createElement("div",null,n.a.createElement("span",{role:"img","aria-label":"terrible"},"\ud83d\udca9")))}var v={errors:{color:"red",fontSize:"12px"}};function x(e){var t=e.source,a=e.register,r=e.errors,c=t.question,l=t.name;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"flex justify-between bg-gray-200 w-10/12 md:w-6/12 mb-3 p-3"},n.a.createElement("label",{className:"w-6/12"},c),n.a.createElement("input",{className:"cursor-pointer",type:"radio",name:l,value:"1",ref:a({required:"required \ud83d\ude4f\ud83c\udffd"})}),n.a.createElement("input",{className:"cursor-pointer",type:"radio",name:l,value:"2",ref:a({required:"required \ud83d\ude4f\ud83c\udffd"})}),n.a.createElement("input",{className:"cursor-pointer",type:"radio",name:l,value:"3",ref:a({required:"required \ud83d\ude4f\ud83c\udffd"})}),n.a.createElement("input",{className:"cursor-pointer",type:"radio",name:l,value:"4",ref:a({required:"required \ud83d\ude4f\ud83c\udffd"})}),n.a.createElement("input",{className:"cursor-pointer",type:"radio",name:l,value:"5",ref:a({required:"required \ud83d\ude4f\ud83c\udffd"})})),r[l]?n.a.createElement("span",{style:v.errors},r[l].message):null)}var h=a(18),y=a.n(h);a(35);y.a.initializeApp({apiKey:"AIzaSyAMF28sajc6N13X_BTi3F_vo0NkzpIQRk8",authDomain:"form-shareable-link.firebaseapp.com",databaseURL:"https://form-shareable-link.firebaseio.com",projectId:"form-shareable-link",storageBucket:"form-shareable-link.appspot.com",messagingSenderId:"310461147584",appId:"1:310461147584:web:634e685e3e93ec0b6300",measurementId:"G-0RD8NS2CKV"});var g=y.a.firestore();function w(e){return N.apply(this,arguments)}function N(){return(N=Object(p.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.collection("forms").add(t);case 3:return a=e.sent,e.abrupt("return",a.id);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function k(e){return j.apply(this,arguments)}function j(){return(j=Object(p.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.collection("forms").doc(t).get();case 3:return a=e.sent,e.abrupt("return",a.data().questions);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function q(e){var t=e.match,a=e.history,c=t.params.id,l=Object(d.a)(),o=l.register,s=l.handleSubmit,i=l.errors,m=Object(r.useState)([]),v=Object(f.a)(m,2),h=v[0],y=v[1],g=function(){var e=Object(p.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(c);case 2:t=e.sent,y(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){g()}),[c]),n.a.createElement("form",{onSubmit:s((function(e){console.log(e),a.push("/thanks")})),className:"flex flex-col justify-between items-center py-8"},n.a.createElement(b,null),n.a.createElement(E,null),h.map((function(e,t){return n.a.createElement(x,{source:e,key:t,register:o,errors:i})})),n.a.createElement("button",{className:"bg-blue-400 hover:bg-blue-900 text-white font-bold py-2 px-5 rounded-full"},"Send your answers"))}function O(e){var t=e.formURL,a="".concat(window.location);return n.a.createElement("div",{className:"text-center my-32 p-4 border-solid border-4 border-gray-600 rounded-lg md:w-6/12 m-auto"},n.a.createElement("p",{className:"text-xl"},"Newly created from is available on this shareable link:"),n.a.createElement("p",null,n.a.createElement(o.b,{to:"/climate-form".concat(t)},"".concat(a).concat(t))))}function S(e){e.setQuestions;var t=Object(r.useState)(!1),a=Object(f.a)(t,2),c=a[0],l=a[1],o=function(){var e=Object(p.a)(u.a.mark((function e(t){var a,r,n,c,o,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=t.target.files[0],e.prev=2,"text/csv"===a.type||"application/vnd.ms-excel"===a.type){e.next=6;break}return e.abrupt("return",alert("File type must be csv"));case 6:return e.next=8,a.text();case 8:for(o in r=e.sent,n=(n=r.replace(/\n/g,",").split(",")).filter((function(e){return Boolean(e)})),c=[],n)s={},o>1&&o%2===0&&(s[n[0].trim()]=n[+o],s[n[1].trim()]=n[+o+1],c.push(s));return e.next=15,w({questions:c});case 15:i=e.sent,l("/form/".concat(i)),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(2),console.error(e.t0);case 22:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"text-center p-4  m-auto"},n.a.createElement("h1",{className:"text-4xl mt-4"},"Metrics Circle Form Builder"),n.a.createElement("div",{className:"text-center my-32 p-4 border-solid border-4 border-gray-600 rounded-lg md:w-6/12 m-auto"},n.a.createElement("p",{className:"text-2xl"},"Please upload a csv file to generate your form"),n.a.createElement("input",{type:"file",id:"fileUpload",accept:".csv, .ms-excel",onChange:o})),c?n.a.createElement(O,{formURL:c}):null)}var I=function(){return n.a.createElement(o.a,null,n.a.createElement(s.a,{from:"/",to:"/climate-form"}),n.a.createElement(s.b,{exact:!0,path:"/climate-form",component:S}),n.a.createElement(s.b,{exact:!0,path:"/climate-form/form/:id",component:q}),n.a.createElement(s.b,{exact:!0,path:"/thanks",component:i}))};l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(I,null)),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.94a449aa.chunk.js.map